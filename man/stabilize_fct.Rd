% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stabilize_fct.R
\name{stabilize_fct}
\alias{stabilize_fct}
\title{Ensure a factor argument meets expectations}
\usage{
stabilize_fct(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  min_size = NULL,
  max_size = NULL,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
}
\arguments{
\item{x}{The argument to stabilize.}

\item{...}{These dots are for future extensions and should be empty.}

\item{allow_null}{Logical. Is NULL an acceptable value?}

\item{allow_na}{Logical. Are NA values ok?}

\item{min_size}{Integer. The minimum size of the object. Object size will be
tested using \code{\link[vctrs:vec_size]{vctrs::vec_size()}}.}

\item{max_size}{Integer. The maximum size of the object. Object size will be
tested using \code{\link[vctrs:vec_size]{vctrs::vec_size()}}.}

\item{levels}{Character. Expected levels. If \code{NULL} (default), the levels
will be computed by \code{\link[base:factor]{base::factor()}}.}

\item{to_na}{Character. Values to coerce to \code{NA}.}

\item{x_arg}{Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.}

\item{call}{The execution environment of the call. See the \code{call} argument of
\code{rlang::abort()} for more information.}

\item{x_class}{Character. The class name of \code{x} to use in error messages. Use
this if you remove a special class from \code{x} before checking its coercion,
but want the error message to match the original class.}
}
\value{
The argument as a factor.
}
\description{
Check a factor argument to ensure that it meets expectations, coercing it
to factor where possible. If the argument does not meet the requirements,
the user will receive an informative error message. Note that \code{\link[=to_fct]{to_fct()}} is a
faster version of this function with fewer options.
}
\examples{
stabilize_fct(letters)
try(stabilize_fct(NULL, allow_null = FALSE))
try(stabilize_fct(c("a", NA), allow_na = FALSE))
try(stabilize_fct(c("a", "b", "c"), min_size = 5))
try(stabilize_fct(c("a", "b", "c"), max_size = 2))
}
