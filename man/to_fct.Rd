% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/to_fct.R, R/to_fct_scalar.R
\name{to_fct}
\alias{to_fct}
\alias{to_fct_scalar}
\title{Coerce an argument to a factor}
\usage{
to_fct(
  x,
  allow_null = TRUE,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_fct_scalar(
  x,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
}
\arguments{
\item{x}{The argument to stabilize.}

\item{allow_null}{Logical. Is NULL an acceptable value?}

\item{levels}{Character. Expected levels. If \code{NULL} (default), the levels
will be computed by \code{\link[base:factor]{base::factor()}}.}

\item{to_na}{Character. Values to coerce to \code{NA}.}

\item{x_arg}{Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.}

\item{call}{The execution environment of the call. See the \code{call} argument of
\code{rlang::abort()} for more information.}

\item{x_class}{Character. The class name of \code{x} to use in error messages. Use
this if you remove a special class from \code{x} before checking its coercion,
but want the error message to match the original class.}

\item{allow_zero_length}{Logical. Are zero-length vectors acceptable?}
}
\value{
A factor equivalent to \code{x}.
}
\description{
If a value can be coerced to a factor without losing information, do so
silently. Otherwise throw an informative error.
}
\details{
These functions have important differences from \code{\link[base:factor]{base::as.factor()}} and
\code{\link[base:factor]{base::factor()}}:
\itemize{
\item Values are never silently coerced to \code{NA} unless they are explicitly
supplied in the \code{to_na} argument.
\item \code{NULL} values can be rejected as part of the call to this function (with
\code{allow_null = FALSE}).
}
}
\examples{
to_fct("a")
to_fct(1:10)
to_fct(NULL)
try(to_fct(letters[1:5], levels = c("a", "c"), to_na = "b"))
to_fct_scalar("a")
try(to_fct_scalar(letters))
}
